<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity Web Player | FPSShooter</title>
    <style>
      /* Döljer Unitys fullskärmsmeddelande */
      #unity-canvas:fullscreen ~ div,
      #unity-canvas:fullscreen ~ div .fullscreenExitMessage {
        display: none !important;
      }

      /* Förhindrar att muspekaren går ut ur spelet i fullskärm */
      #unity-canvas {
        pointer-events: auto;
      }

      /* Förhindrar overflow när vi är i fullskärm */
      body {
        overflow: hidden;
      }
    </style>
  </head>
  <body style="text-align: center; padding: 0; border: 0; margin: 0;">
    <canvas id="unity-canvas" width=960 height=600 tabindex="-1" style="width: 960px; height: 600px; background: #231F20"></canvas>
    <script src="Build/FPSShooterWEB.loader.js"></script>
    <script>
      // Skapar Unity-instansen
      createUnityInstance(document.querySelector("#unity-canvas"), {
        arguments: [],
        dataUrl: "Build/FPSShooterWEB.data",
        frameworkUrl: "Build/FPSShooterWEB.framework.js",
        codeUrl: "Build/FPSShooterWEB.wasm",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "DefaultCompany",
        productName: "FPSShooter",
        productVersion: "0.1.0",
      });

      // Förhindra att Escape lämnar fullskärm
      window.addEventListener('keydown', function(event) {
        if (event.key === "Escape") {
          event.preventDefault();  // Förhindra att Escape lämnar fullskärm

          // Lägg till logik för att hantera Escape här (t.ex. öppna inställningsmenyn)
          console.log("Escape tryckt, men fullskärm stängs inte.");
        }
      });

      // Förhindrar att musen går ut ur spelet när fullskärm är aktiverat
      var unityCanvas = document.querySelector("#unity-canvas");
      unityCanvas.addEventListener('mouseenter', function() {
        // Gör det omöjligt för muspekaren att gå utanför
        document.body.style.pointerEvents = "none";
      });

      unityCanvas.addEventListener('mouseleave', function() {
        document.body.style.pointerEvents = "auto";
      });

    </script>
  </body>
</html>
